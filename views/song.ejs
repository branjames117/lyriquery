<%- include('partials/header') %>

<h2 class="mb-1">
  <em><%= song.title %></em> by
  <a href="<%= '/artist/' + song.artist %>"><%= song.artist %></a><% if
  (song.featuredArtist.length > 0) { %>, featuring <%= song.featuredArtist %><%
  } %>
</h2>

<p class="mt-1">
  Album:
  <a href="/artist/<%= song.artist %>/<%= song.album %>"
    ><%= song.album %> (<%= song.year %>)</a
  ><br />
  Track: <%= song.trackNumber %><br />
  Author(s): <% if (song.authors.length > 0 ) { %> <%= song.authors.join(', ')
  %> <% } %>
</p>

<form action="/submit" method="post">
  <div class="form-group d-flex flex-column">
    <button
      class="btn btn-primary btn-sm"
      onclick="this.form.submit()"
      name="update"
      value="<%= song._id %>"
    >
      <i class="fas fa-pencil-alt"></i> EDIT
    </button>
  </div>
</form>
<form action="/delete" method="post">
  <div class="form-group d-flex flex-column">
    <button
      class="btn btn-primary btn-sm"
      onclick="this.form.submit()"
      name="delete"
      value="<%= song._id %>"
    >
      <i class="fas fa-trash-alt"></i> DELETE
    </button>
  </div>
</form>

<table class="table table-striped table-hover">
  <tr>
    <th>Line</th>
    <th>Lyric</th>
  </tr>
  <% song.lyrics.forEach((line, index) => { %>
  <tr>
    <td><%= index + 1 %></td>
    <td><%= line %></td>
  </tr>
  <% }); %>
</table>

<a href="#top"
  ><div class="form-group d-flex flex-column">
    <button class="btn btn-primary">Return to Top</button>
  </div></a
>

<%- include('partials/footer') %>
